# RFID LOGIN SYSTEM
## 目的
1. 使電腦在未登入的情況下無法正常使用
1. 監測客戶端所在電腦的使用情況:
    1. 由誰使用
    2. 登入時間
    3. 離開時間

## 目標
- 使此程式無法被正常手段被一般使用者關閉

- 客戶端登入手段:
    1. 卡片
    1. 使用者帳密
    1. 開發人員通道 *(輸入token登入)*

- 客戶端在以下情況向伺服器回報:
    1. 登入:
        1. 登入成功
        2. 登入失敗 **(未實作)**
    2. 關機

- 伺服器如何處理客戶端的回報:
    1. 登入成功，紀錄:
        1. 使用紀錄辨識碼 **(未實作)**
        1. 電腦辨識碼
        1. 使用者辨識碼
        1. 登入時間
    2. 程式關閉，紀錄:
        1. 使用紀錄辨識碼 **(未實作)**
        1. 離開時間
## 如何實現

### 資料庫
- 靜態資料庫:
    - 學號及密碼:
        - 使用者辨識碼 **(PK)**
        - 密碼
    - 學生證內碼:
        - 卡片內碼 **(PK)**
        - 使用者辨識碼
- 動態資料庫:
    - 使用紀錄:
        - 使用紀錄辨識碼 **(PK)**
        - 電腦辨識碼
        - 使用者辨識碼
    - 登入紀錄 **(未確定是否將登入、登出紀錄分離)**:
        - 使用紀錄辨識碼 **(PK)**
        - 登入時間
        - 登出時間
- 將靜態與動態資料庫分離 **(未實作)**

### 客戶端
- 在Windows Service運行

- 記錄錯誤檔 **(未實現，不確定是否需要)**

- 在登入成功後:
    - 主視窗關閉
    - 關機回傳: 使用紀錄辨識碼 **(未實現)**

- 登入資料:
    1. 卡片內碼
    1. 使用者帳密
    1. 開發人員token

- 介面:
    - 無控制項方塊 (最上方包含最小化、最大化、關閉等按鈕的方塊) **(於發行階段實施)**
    - 視窗無邊界最大化
    - 分頁:
        1. RFID:
            - 讀卡登入
            - 提醒文字位於中央
        1. user login:
            - 輸入帳密登入
            - 提醒文字位於下方 (初始為隱藏狀態)
        1. dev pass:
            - 輸入開發人員token登入
            - 提醒文字位於下方 (初始為隱藏狀態)
- 讀卡:
    - 使用讀卡機原廠程式
        - 該程式讀取卡片內碼時 **使用鍵盤輸入**
        - 須建立副執行緒
            - 防止讀取輸入時，干擾主執行緒運作
            - 開關該程式
                - 開啟: 位於RFID分頁時
                - 關閉:
                    - 離開RFID分頁時
                    - 關閉程式時 **(未實現)**
    - 因為讀卡機，使用 **鍵盤讀取** 方式 *(有可能會被原生鍵盤輸入干擾)*
- 螢幕控制:
    - 無控制項方塊 **(於發行階段實施)**
    - 防止使用者關閉 **(於發行階段實施)**
    - 視窗永遠置頂
    - 視窗無邊界最大化

### 伺服器
- URI: *使用者自訂*
- 位址: **(未實現)**
    - /clientSubmit
        <!-- - /innerCode_login: 供卡片內碼登入使用
        - /account_login: 供帳密登入使用
        - /devPass: 供開發人員登入使用 -->
    - /closeReport: 供程式關閉回報使用
- 回應:
    - 伺服器連接錯誤: 無回應
    - 伺服器內部錯誤: HTML **(重大錯誤，應立即修復)**
    - 成功: 0、使用紀錄辨識碼 **(未完全實現)**
    - 失敗: **(未完全實現)**
        - 帳號錯誤: 1
        - 密碼錯誤: 2
        - 卡片內碼錯誤: 3
        - 開發人員token錯誤: 4
